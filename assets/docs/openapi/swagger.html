<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="SwaggerUI" />
    <title>SwaggerUI</title>
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@5.29.0/swagger-ui.css" />
</head>
<body>
<div id="swagger-ui"></div>
<script src="https://unpkg.com/swagger-ui-dist@5.29.0/swagger-ui-bundle.js" crossorigin></script>
<script src="https://unpkg.com/swagger-ui-dist@5.29.0/swagger-ui-standalone-preset.js" crossorigin></script>
<script>
    window.onload = () => {
      window.ui = SwaggerUIBundle({
        spec: JSON.parse("{\n  \"openapi\": \"3.1.0\",\n  \"info\": {\n    \"title\": \"Spallet\",\n    \"description\": \"Split Balance Wallet API Documentation\",\n    \"version\": \"0.1.0\"\n  },\n  \"paths\": {\n    \"/wallets/{user_id}/transactions\": {\n      \"get\": {\n        \"operationId\": \"transactionHistory\",\n        \"tags\": [\n          \"wallet\"\n        ],\n        \"summary\": \"Transaction History\",\n        \"parameters\": [\n          {\n            \"in\": \"query\",\n            \"name\": \"count\",\n            \"required\": false,\n            \"style\": \"form\",\n            \"description\": \"Maximum number of returned objects. Must be between `0` and `100`. If zero, it will default to `20`.\",\n            \"explode\": true,\n            \"schema\": {\n              \"type\": \"integer\"\n            },\n            \"allowReserved\": false\n          },\n          {\n            \"in\": \"query\",\n            \"name\": \"threshold\",\n            \"required\": false,\n            \"style\": \"form\",\n            \"description\": \"Used for pagination. The last ID from the previous request, to list from there on.\",\n            \"explode\": true,\n            \"schema\": {\n              \"type\": \"integer\"\n            },\n            \"allowReserved\": false\n          },\n          {\n            \"$ref\": \"#/components/parameters/user_id\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"The request was successful, and the server has returned the requested resource in the response body.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"data\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"$ref\": \"#/components/schemas/Transaction\"\n                      }\n                    }\n                  },\n                  \"required\": [\n                    \"data\"\n                  ],\n                  \"title\": \"TransactionHistoryOk\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"$ref\": \"#/components/responses/Bad Request\"\n          }\n        },\n        \"description\": \"Retrieve a list of transactions history, with pagination.\"\n      }\n    },\n    \"/wallets/{user_id}/topup\": {\n      \"post\": {\n        \"operationId\": \"topUpBalance\",\n        \"summary\": \"Top-up Balance\",\n        \"responses\": {\n          \"204\": {\n            \"$ref\": \"#/components/responses/No Content\"\n          },\n          \"400\": {\n            \"$ref\": \"#/components/responses/Bad Request\"\n          },\n          \"404\": {\n            \"$ref\": \"#/components/responses/Not Found\"\n          }\n        },\n        \"requestBody\": {\n          \"required\": true,\n          \"description\": \"`amount`: The deposit amount. Must be a positive number, otherwise 400.\\n\\n`release_date`: Optional date to unfreeze the funds, if NULL it will be accessible immediately. Must be in `RFC3339` format (i.e  `2025-09-10T16:00:00.0+03:30`), otherwise 400.\\n\\n`description`: Optional deposit description.\",\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"release_date\": {\n                    \"type\": \"string\"\n                  },\n                  \"amount\": {\n                    \"type\": \"number\",\n                    \"description\": \"Must be greater than zero\"\n                  },\n                  \"description\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"amount\"\n                ]\n              }\n            }\n          }\n        },\n        \"parameters\": [\n          {\n            \"$ref\": \"#/components/parameters/user_id\"\n          }\n        ],\n        \"description\": \"Add funds to the user's wallet.\",\n        \"tags\": [\n          \"wallet\"\n        ]\n      }\n    },\n    \"/wallets/{user_id}/withdraw\": {\n      \"post\": {\n        \"operationId\": \"withdraw\",\n        \"summary\": \"Withdraw\",\n        \"responses\": {\n          \"200\": {\n            \"description\": \"The request was successful, and the server has returned the requested resource in the response body.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"data\": {\n                      \"type\": \"object\",\n                      \"properties\": {\n                        \"ref_id\": {\n                          \"type\": \"string\",\n                          \"description\": \"UUID\"\n                        }\n                      },\n                      \"required\": [\n                        \"ref_id\"\n                      ]\n                    }\n                  },\n                  \"required\": [\n                    \"data\"\n                  ]\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"$ref\": \"#/components/responses/Bad Request\"\n          },\n          \"404\": {\n            \"$ref\": \"#/components/responses/Not Found\"\n          },\n          \"409\": {\n            \"$ref\": \"#/components/responses/Conflict\"\n          }\n        },\n        \"requestBody\": {\n          \"required\": true,\n          \"description\": \"`amount`: How much to withdraw. Must be a positive number, otherwise 400. Must be less than or equals to the user's available balance, otherwise 409.\\n\\n`description`: Optional transfer description.\",\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"amount\": {\n                    \"type\": \"number\",\n                    \"description\": \"Must be greater than zero.\"\n                  },\n                  \"description\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"amount\"\n                ]\n              }\n            }\n          }\n        },\n        \"parameters\": [\n          {\n            \"$ref\": \"#/components/parameters/user_id\"\n          }\n        ],\n        \"description\": \"Withdraw funds and transfer to a target.\",\n        \"tags\": [\n          \"wallet\"\n        ]\n      }\n    },\n    \"/users\": {\n      \"post\": {\n        \"operationId\": \"createNewUser\",\n        \"tags\": [\n          \"user\"\n        ],\n        \"summary\": \"Create new user\",\n        \"responses\": {\n          \"201\": {\n            \"description\": \"The request was successful, and a new resource was created.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"data\": {\n                      \"type\": \"object\",\n                      \"properties\": {\n                        \"id\": {\n                          \"type\": \"integer\"\n                        },\n                        \"username\": {\n                          \"type\": \"string\"\n                        }\n                      },\n                      \"required\": [\n                        \"id\",\n                        \"username\"\n                      ]\n                    }\n                  },\n                  \"required\": [\n                    \"data\"\n                  ]\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"$ref\": \"#/components/responses/Bad Request\"\n          },\n          \"409\": {\n            \"$ref\": \"#/components/responses/Conflict\"\n          }\n        },\n        \"requestBody\": {\n          \"required\": true,\n          \"description\": \"`username`: Must be unique, otherwise 409.\",\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"username\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"username\"\n                ]\n              }\n            }\n          }\n        },\n        \"parameters\": [],\n        \"description\": \"Create a new user.\"\n      }\n    },\n    \"/wallets/{user_id}/balance\": {\n      \"get\": {\n        \"operationId\": \"balance\",\n        \"tags\": [\n          \"wallet\"\n        ],\n        \"summary\": \"Balance\",\n        \"parameters\": [\n          {\n            \"$ref\": \"#/components/parameters/user_id\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"The request was successful, and the server has returned the requested resource in the response body.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"data\": {\n                      \"$ref\": \"#/components/schemas/Balance\"\n                    }\n                  },\n                  \"required\": [\n                    \"data\"\n                  ],\n                  \"title\": \"BalanceOk\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"$ref\": \"#/components/responses/Bad Request\"\n          },\n          \"404\": {\n            \"$ref\": \"#/components/responses/Not Found\"\n          }\n        },\n        \"description\": \"Calculate and return the user's balance.\"\n      }\n    }\n  },\n  \"components\": {\n    \"responses\": {\n      \"No Content\": {\n        \"description\": \"The request was successful, but there is no content to return in the response.\",\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"type\": \"null\"\n            }\n          }\n        }\n      },\n      \"Bad Request\": {\n        \"description\": \"The server could not understand the request due to invalid syntax. The client should modify the request and try again.\",\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"message\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"message\"\n              ]\n            }\n          }\n        }\n      },\n      \"Not Found\": {\n        \"description\": \"The server cannot find the requested resource. The endpoint may be invalid or the resource may no longer exist.\",\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"message\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"message\"\n              ]\n            }\n          }\n        }\n      },\n      \"Ok\": {\n        \"description\": \"The request was successful, and the server has returned the requested resource in the response body.\",\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"data\": {\n                  \"type\": \"object\"\n                }\n              },\n              \"required\": [\n                \"data\"\n              ]\n            }\n          }\n        }\n      },\n      \"Conflict\": {\n        \"description\": \"The request could not be completed due to a conflict with the current state of the resource. Resolve the conflict and try again.\",\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"message\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"message\"\n              ]\n            }\n          }\n        }\n      }\n    },\n    \"parameters\": {\n      \"user_id\": {\n        \"name\": \"user_id\",\n        \"required\": true,\n        \"in\": \"path\",\n        \"description\": \"User ID\",\n        \"schema\": {\n          \"type\": \"integer\"\n        },\n        \"explode\": false,\n        \"style\": \"simple\",\n        \"allowReserved\": false,\n        \"allowEmptyValue\": false\n      }\n    },\n    \"schemas\": {\n      \"Transaction\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"integer\"\n          },\n          \"user_id\": {\n            \"type\": \"integer\"\n          },\n          \"amount\": {\n            \"type\": \"number\"\n          },\n          \"status\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"pending\",\n              \"completed\",\n              \"failed\"\n            ],\n            \"description\": \"Only for Withdrawals, and can not be NULL.\"\n          },\n          \"created_at\": {\n            \"type\": \"string\"\n          },\n          \"updated_at\": {\n            \"type\": \"string\"\n          },\n          \"type\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"deposit\",\n              \"withdrawal\"\n            ],\n            \"description\": \"Transaction type.\"\n          },\n          \"release_date\": {\n            \"type\": \"string\",\n            \"description\": \"Only for deposits, and can be NULL.\"\n          },\n          \"description\": {\n            \"type\": \"string\"\n          },\n          \"ref_id\": {\n            \"type\": \"string\",\n            \"description\": \"UUID. Only for Withdrawals, and can be NULL.\"\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"user_id\",\n          \"amount\",\n          \"created_at\",\n          \"updated_at\",\n          \"type\"\n        ],\n        \"description\": \"A tranaction entity\"\n      },\n      \"Balance\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"available\": {\n            \"type\": \"number\"\n          },\n          \"total\": {\n            \"type\": \"number\"\n          }\n        },\n        \"required\": [\n          \"available\",\n          \"total\"\n        ],\n        \"description\": \"Account balance details\"\n      }\n    }\n  },\n  \"tags\": [\n    {\n      \"name\": \"wallet\"\n    },\n    {\n      \"name\": \"user\"\n    }\n  ],\n  \"servers\": [\n    {\n      \"url\": \"http://127.0.0.1:4004\",\n      \"description\": \"Local development address.\"\n    }\n  ]\n}"),
        dom_id: '#swagger-ui',
        presets: [
          SwaggerUIBundle.presets.apis,
          SwaggerUIStandalonePreset
        ],
      });
    };
</script>
</body>
</html>